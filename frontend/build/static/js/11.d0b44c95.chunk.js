(this["webpackJsonpdigitalestate-frontend"]=this["webpackJsonpdigitalestate-frontend"]||[]).push([[11],{134:function(e,t,a){"use strict";var n=a(1),r=(a(0),a(159));t.a=function(e){var t=e.variant,a=void 0===t?"info":t,c=e.children;return Object(n.jsx)(r.a,{variant:a,children:c})}},136:function(e,t,a){"use strict";var n=a(1),r=(a(0),a(128)),c=a(129),s=a(123);t.a=function(e){var t=e.children;return Object(n.jsx)(r.a,{children:Object(n.jsx)(c.a,{className:"justify-content-md-center",children:Object(n.jsx)(s.a,{xs:12,md:6,children:t})})})}},140:function(e,t,a){"use strict";var n=a(1),r=(a(0),a(130)),c=a(10);t.a=function(e){var t=e.step1,a=e.step2,s=e.step3;return Object(n.jsxs)(r.a,{className:"justify-content-center mb-4",children:[Object(n.jsx)(r.a.Item,{children:t?Object(n.jsx)(c.LinkContainer,{to:"/login",children:Object(n.jsx)(r.a.Link,{children:"Sign In"})}):Object(n.jsx)(r.a.Link,{disabled:!0,children:"Sign In"})}),Object(n.jsx)(r.a.Item,{children:a?Object(n.jsx)(c.LinkContainer,{to:"/profile",children:Object(n.jsx)(r.a.Link,{children:"Profile"})}):Object(n.jsx)(r.a.Link,{disabled:!0,children:"Profile"})}),Object(n.jsx)(r.a.Item,{children:s?Object(n.jsx)(c.LinkContainer,{to:"/shortlist",children:Object(n.jsx)(r.a.Link,{children:"Shortlist"})}):Object(n.jsx)(r.a.Link,{disabled:!0,children:"Shortlist"})})]})}},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(20),r=a.n(n),c=a(32),s=a(33),o=a.n(s),i=a(35),l=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n,c){var s,l,j,d,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(n({type:i.b}),s=0;s<e.length;s++)l=e[s],t.append("image",l);return a.prev=2,j={headers:{"Content-Type":"multipart/form-data"}},a.next=6,o.a.post("/api/upload",t,j);case 6:d=a.sent,u=d.data,console.log(u),n({type:i.d,payload:{path:u.path,message:u.message}}),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(2),console.log(a.t0),n({type:i.a,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e,t){return a.apply(this,arguments)}}()}},164:function(e,t,a){"use strict";var n=a(2),r=a(3),c=a(5),s=a.n(c),o=a(0),i=a.n(o),l=a(4),j=a.n(l),d=a(6),u=(j.a.string,j.a.bool,j.a.bool,j.a.bool,j.a.bool,i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,o=e.fluid,l=e.rounded,j=e.roundedCircle,u=e.thumbnail,b=Object(r.a)(e,["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"]);a=Object(d.a)(a,"img");var p=s()(o&&a+"-fluid",l&&"rounded",j&&"rounded-circle",u&&a+"-thumbnail");return i.a.createElement("img",Object(n.a)({ref:t},b,{className:s()(c,p)}))})));u.displayName="Image",u.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},t.a=u},203:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a.n(n),c=a(32),s=a(139),o=a(1),i=a(0),l=a(128),j=a(129),d=a(123),u=a(164),b=a(205),p=a(77),h=a(136),O=a(134),f=a(58),m=a(34),x=a(57),g=a(7),v=a(149),w=a(35),y=a(140);t.default=function(e){var t=e.history,a=Object(i.useState)(""),n=Object(s.a)(a,2),C=n[0],L=n[1],P=Object(i.useState)(""),S=Object(s.a)(P,2),I=S[0],k=S[1],N=Object(i.useState)(""),E=Object(s.a)(N,2),G=E[0],F=E[1],D=Object(i.useState)(""),U=Object(s.a)(D,2),A=U[0],J=U[1],B=Object(i.useState)(""),M=Object(s.a)(B,2),R=M[0],T=M[1],q=Object(i.useState)(""),z=Object(s.a)(q,2),H=z[0],K=z[1],Q=Object(i.useState)(""),V=Object(s.a)(Q,2),W=V[0],X=V[1],Y=Object(i.useState)(""),Z=Object(s.a)(Y,2),$=Z[0],_=Z[1],ee=Object(i.useState)(null),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(i.useState)(!1),ce=Object(s.a)(re,2),se=ce[0],oe=ce[1],ie=Object(m.b)(),le=Object(m.c)((function(e){return e.userLogin})).userInfo,je=Object(m.c)((function(e){return e.upload})),de=je.uploading,ue=je.uploadSuccess,be=je.path,pe=je.message,he=Object(m.c)((function(e){return e.userDetails})),Oe=he.loading,fe=he.error,me=he.user,xe=Object(m.c)((function(e){return e.userUpdateProfile})),ge=xe.success,ve=xe.error;Object(i.useEffect)((function(){le?(ge&&oe(!0),me&&me.name&&!ge?(L(me.name),F(me.email),k(me.phone),T(me.profilePic)):(ie({type:w.c}),ie({type:g.n}),ie(Object(x.a)("profile"))),ue&&T(be)):t.push("/login")}),[ie,t,le,me,ge,ue,be,pe]);var we=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files,n=new FormData,ie(Object(v.a)(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[ae&&Object(o.jsx)(O.a,{children:ae}),pe&&Object(o.jsx)(O.a,{children:pe}),ve&&Object(o.jsx)(O.a,{variant:"danger",children:ve}),se&&Object(o.jsx)(O.a,{variant:"success",children:"Profile Updated"}),Oe?Object(o.jsx)(f.a,{}):fe?Object(o.jsx)(O.a,{variant:"danger",children:fe}):Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(l.a,{className:"py-5",children:[Object(o.jsx)(y.a,{step3:!0}),Object(o.jsxs)(j.a,{className:"justify-content-center",children:[Object(o.jsxs)(d.a,{md:4,children:[Object(o.jsx)(u.a,{src:R,className:"my-5",fluid:!0,thumbnail:!0}),Object(o.jsxs)(b.a.Group,{controlId:"image",children:[Object(o.jsx)(b.a.Label,{children:""!==ae?Object(o.jsx)("strong",{children:ae}):"Image (supports jpg/jpeg/png file formats)"}),Object(o.jsx)(b.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:we,multiple:!0}),de&&Object(o.jsx)(f.a,{})]})]}),Object(o.jsx)(d.a,{md:8,children:Object(o.jsxs)(h.a,{children:[Object(o.jsx)("h3",{className:"login-h3",children:"My Profile"}),ae&&Object(o.jsx)(O.a,{variant:"danger",children:ae}),fe&&Object(o.jsx)(O.a,{variant:"danger",children:fe}),Oe&&Object(o.jsx)(f.a,{}),Object(o.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),A!==H&&W!==$?ne("Passwords do not match"):ie(Object(x.e)({name:C,email:G,phone:I,profilePic:R.toString(),password:W,oldPassword:A}))},children:[Object(o.jsxs)(b.a.Group,{controlId:"name",children:[Object(o.jsx)(b.a.Label,{children:"Name"}),Object(o.jsx)(b.a.Control,{type:"name",placeholder:"Enter name",value:C,onChange:function(e){return L(e.target.value)}})]}),Object(o.jsxs)(b.a.Group,{controlId:"phone",children:[Object(o.jsx)(b.a.Label,{children:"phone"}),Object(o.jsx)(b.a.Control,{type:"phone",placeholder:"Enter phone",value:I,onChange:function(e){return k(e.target.value)}})]}),Object(o.jsxs)(b.a.Group,{controlId:"email",children:[Object(o.jsx)(b.a.Label,{children:"Email Address"}),Object(o.jsx)(b.a.Control,{type:"email",placeholder:"Enter email",value:G,onChange:function(e){return F(e.target.value)}})]}),Object(o.jsxs)(b.a.Group,{controlId:"password",children:[Object(o.jsx)(b.a.Label,{children:"Old password"}),Object(o.jsx)(b.a.Control,{type:"password",placeholder:"Enter password",value:A,onChange:function(e){return J(e.target.value)}})]}),Object(o.jsxs)(b.a.Group,{controlId:"confirmPassword",children:[Object(o.jsx)(b.a.Label,{children:"Confirm old Password"}),Object(o.jsx)(b.a.Control,{type:"password",placeholder:"Enter confirm password",value:H,onChange:function(e){return K(e.target.value)}})]}),Object(o.jsxs)(b.a.Group,{controlId:"newPassword",children:[Object(o.jsx)(b.a.Label,{children:"New password"}),Object(o.jsx)(b.a.Control,{type:"password",placeholder:"Enter password",value:W,onChange:function(e){return X(e.target.value)}})]}),Object(o.jsxs)(b.a.Group,{controlId:"confirmNewPassword",children:[Object(o.jsx)(b.a.Label,{children:"Confirm new Password"}),Object(o.jsx)(b.a.Control,{type:"password",placeholder:"Enter confirm password",value:$,onChange:function(e){return _(e.target.value)}})]}),Object(o.jsx)(p.a,{style:{backgroundColor:"#00B4A2",border:"none"},type:"submit",variant:"primary",children:"Update Profile"})]})]})})]})]})})]})}}}]);
//# sourceMappingURL=11.d0b44c95.chunk.js.map